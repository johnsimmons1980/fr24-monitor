server.modules = (
    "mod_access",
    "mod_alias",
    "mod_compress",
    "mod_redirect",
    "mod_fastcgi",
)

server.document-root        = "/home/pi/fr24-monitor/web"
server.errorlog             = "/home/pi/fr24-monitor/lighttpd_error.log"
server.pid-file             = "/home/pi/fr24-monitor/lighttpd.pid"
server.username             = "pi"
server.groupname            = "pi"
server.port                 = 6869

index-file.names            = ( "index.php", "index.html" )
url.access-deny             = ( "~", ".inc" )
static-file.exclude-extensions = ( ".php", ".pl", ".fcgi" )

# Basic MIME types
mimetype.assign = (
    ".html" => "text/html",
    ".htm"  => "text/html",
    ".css"  => "text/css",
    ".js"   => "application/x-javascript",
    ".php"  => "application/x-httpd-php",
    ".png"  => "image/png",
    ".jpg"  => "image/jpeg",
    ".jpeg" => "image/jpeg",
    ".gif"  => "image/gif",
    ".ico"  => "image/x-icon",
    ".txt"  => "text/plain"
)

# PHP FastCGI configuration using CGI (more compatible)
fastcgi.server = ( ".php" => ((
    "bin-path" => "/usr/bin/php-cgi",
    "socket" => "/tmp/php.socket.pi",
    "max-procs" => 2,
    "idle-timeout" => 20,
    "bin-environment" => (
        "PHP_FCGI_CHILDREN" => "4",
        "PHP_FCGI_MAX_REQUESTS" => "10000"
    ),
    "bin-copy-environment" => (
        "PATH", "SHELL", "USER"
    )
)))
